# 💵 배당금 서비스


배당금 데이터를 Yahoo Finance에서 스크래핑하여 데이터베이스에 저장하고, 이를 API로 제공하는 프로젝트입니다.

## 📌 프로젝트 개요

- **목적**: 특정 주식 종목에 대한 **배당금 정보**를 쉽게 확인하고 활용할 수 있도록 돕는 서비스입니다.
- **주요 기능**:
    - 야후 금융(Yahoo Finance)에서 배당금 정보 스크래핑
    - 데이터베이스 저장 및 조회
    - 배당금 데이터 조회 시 캐시 활용
    - 회사명 자동완성 기능을 이용한 데이터 조회
    - JWT 기반 사용자 인증
    - 스케줄링을 통한 정기 데이터 갱신

## 🧩 기능 상세

### 1. 배당금 데이터 수집
- Yahoo Finance에서 월별 배당금 데이터를 **Jsoup**을 이용해 스크래핑
- Scraper 모듈로 분리하여 관리

### 2. 데이터 저장 및 조회
- 스크래핑한 데이터를 **DB에 저장**
- 사용자 요청 시, **DB에 데이터가 있는 경우 우선 조회**
- 데이터가 없으면 **스크래핑 후 저장**

### 3. 스케쥴링
- **매일 자정**에 최신 데이터를 자동 수집
- 각 회사마다 **3초 간격**을 두고 요청하여 Yahoo 서버에 **과부하 방지**
- 스케줄링 후, **캐시 삭제**로 잘못된 데이터 방지

### 4. 자동완성 기능
- Trie(트라이) 자료구조를 활용해 **회사명 자동완성**과 같은 방법으로 조회
- 입력된 문자열로 시작하는 회사 목록을 빠르게 조회

### 5. 캐시 사용
- 배당금 정보를 요청할 때 **캐시를 우선 확인**
- 빠른 응답을 위한 **Spring Cache** 적용
- DB 갱신 시 캐시도 함께 **evict (삭제)**

### 6. 사용자 인증 (Security)
- **Spring Security**를 사용한 보안 구성
- 로그인 시 **JWT 토큰 발행**
- 요청 시 JWT를 통한 **사용자 인증 및 권한 검증**



## 🔐 JWT 인증 구조

- 회원가입 및 로그인 API를 통해 JWT 발급
- 이후 요청 시 헤더에 `Authorization: Bearer <token>` 포함
- 필터에서 토큰의 유효성 검사 및 사용자 인증 처리